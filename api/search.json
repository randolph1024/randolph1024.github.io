[{"id":"d80d6467ba0bb41964311de1306e1ff1","title":"AI recommendation","content":"在当今快速发展的科技领域，人工智能（AI）工具的应用已经渗透到各个行业和领域。本文将详细介绍一些当前广泛使用的AI工具及其具体用途、排名和相关信息来源。\n\n1. ChatGPT（OpenAI）\n\n用途：ChatGPT是一款通用的语言生成工具，广泛用于对话自动化、写作辅助、摘要生成和语言翻译等任务。\n它利用深度学习技术，能够生成与人类对话类似的文本。\n\n排名：ChatGPT目前在AI工具的排名中居于领先地位，是最受欢迎的生成式AI工具之一。\n\n网址：https://chat.openai.com\n\n2. Grammarly AI\n\n用途：Grammarly是一个智能写作助手，主要用于改进英语写作的语法、拼写和风格。\n它提供实时纠错和写作建议，广泛应用于教育、商务和个人写作中。\n\n排名：在写作和编辑工具中，Grammarly位居前列，拥有大量用户群体。\n\n网址：https://www.grammarly.com\n\n3. DeepAI\n\n用途：DeepAI提供多种图像和视频处理工具，包括图像识别、风格转换和图像生成。\n其平台上有多个API，方便开发者集成到自己的项目中。\n\n排名：在图像处理和生成工具中，DeepAI占据重要地位。\n\n网址：https://deepai.org\n\n4. Brainly\n\n用途：Brainly是一个教育平台，提供学生和教师之间的互助问答。\n它利用AI技术为学生提供作业帮助和学习资源。\n\n排名：在教育领域的AI工具中，Brainly是最受欢迎的工具之一。\n\n网址：https://brainly.com\n\n5. Perplexity AI\n\n用途：Perplexity AI是一款研究工具，结合了GPT类似的对话回答和真实的源链接，用于提高搜索和研究的准确性。\n它可以提供更具信度的信息源，减少“幻觉”效应。\n\n排名：作为研究工具，Perplexity AI逐渐获得认可和使用。\n\n网址：https://www.perplexity.ai\n\n6. Copy.AI 和 Simplified AI\n\n用途：这两款工具专为市场营销团队设计，帮助自动化和优化内容创作过程。\nCopy.AI主要用于生成广告文案、社交媒体帖子和博客文章，而Simplified AI则提供更全面的设计和营销解决方案。\n\n排名：在市场营销工具中，Copy.AI和Simplified AI都占有一席之地。\n\n网址：\n\n\t•\thttps://www.copy.ai\n\t•\thttps://simplified.co\n\n7. Canva AI Image Generator\n\n用途：Canva的AI图像生成工具帮助用户轻松创建设计和图像，广泛应用于平面设计、社交媒体内容创作等领域。\n\n排名：在图像设计工具中，Canva凭借其易用性和多功能性广受欢迎。\n\n网址：https://www.canva.com\n\n8. Character.AI 和 Chai\n\n用途：Character.AI和Chai是基于聊天的AI应用，旨在通过对话提供互动和娱乐。\n这些工具可以帮助用户练习沟通技能，甚至在社交媒体上创建虚拟角色。\n\n排名：在社交和互动工具中，Character.AI和Chai拥有大量的用户基础。\n\n网址：\n\n\t•\thttps://character.ai\n\t•\thttps://chai.ml\n\n结论\n\n人工智能工具的应用领域非常广泛，从写作辅助、图像生成到教育和市场营销，每一种工具都有其独特的功能和优势。\n以上介绍的工具在各自领域中排名领先，广泛应用于实际工作和生活中。\n通过访问这些工具的官方网站，你可以进一步了解它们的具体功能和使用方法。\n","slug":"AI recommendation","date":"2024-07-08T07:59:33.000Z","categories_index":"AI","tags_index":"AI","author_index":"Randolph"},{"id":"5ccff738794c3cbb268e6d7c03a5508f","title":"Intune(updating)","content":"\n\n\n\n\n\nIntune部署项目\n基于校园环境，可同时参考权限适用于办公环境\n\n50台ipad &amp; 30台Windows Laptop\n限制安装非指定应用（如有需要IT权限安装）\n限制访问非指定网站（通过白名单管理）\n\n\n\nEnviorment IntroductionApple System Version Requirements(Need to prepare the Apple ID for each device)\n\n- Apple iOS 15.0 and later\n- Apple iPadOS 15.0 and later\n- macOS 12.0 and later\n\nWindows System Version Requirements\n\n- Windows 11\nThe supported versions include Windows 11 Pro、Enterprise and Education。\n- Windows 10\nThe supported versions include Windows 10 Pro、Enterprise and Education。\n\n\nIOS certificate registration and uploadBefore controlling an Apple device, need to download a certificate file \nto register an Apple device in order to push profiles to the Apple device\n\nLogin to IntunePortal｜ Select Devices｜Select iOS/iPadOS | Select Enrollment\n\nSelect Apple MDM Push Certificate\n\n- Select agree\n- download CSR file\n- going to this site : https://identity.apple.com/pushcert/\n- upload the CSR file and download PEM Certificate for Apple\n- back to Intune Portal and Enter the same Apple ID as in the identity portal \nand upload the downloaded PEM certificate\n\nTips：\n- Apple ID must use the type used for business\n- The PEM certificate needs to be updated annually\n\n\nSign up for Apple Business ManagerSign up your organisation\n1.Go to https://business.apple.com/.\n\n2.Select “Sign up now”.\n\n3.Enter and review the following organisation information:\n\n-The first and last name of the individual enrolling on behalf of the organisation\n\n-Important: This must be a legal, human name. First and last names such as “IT Coordinator” or “Apple Deployment” will be returned to you to correct the information.\n\n-a work email address that is not associated with an App Store or iCloud account, and has not been used as an Apple ID for any other Apple service or website\n\nNote: This email address becomes your administrator Managed Apple ID. See Initial administrator account email address requirements.\n\n-The name of your organisation\n\nNote: This name may change when you verify your organisation.\n\n-The website URL\n\nNote: This is an optional field, but providing it can expedite your organisation’s verification process.\n\n4.Select whether to get news and updates about Apple Business Essentials, then select Continue.\n\n5.Create and confirm a new password for your new account, then select a region code and enter your phone number.\n\nA one-time verification code is sent to your email address first, then a different code is sent to your phone number.\n\n6.Follow the remaining steps, then select Get Started to start using Apple Business Manager and Apple Business Essentials.\n\nVerify your enrolment\nAfter you verify enrolment, you can take full advantage of all the features of Apple Business Manager and Apple Business Essentials.\n\n1.Go to https://business.apple.com/.\n\n2.Sign in with your administrator account, then go to your organization settings.\n\n3.Select Verify, then enter your organisation’s Data Universal Numbering System D-U-N-S Number.\n\nTo learn more about locating or requesting a D-U-N-S Number, see D-U-N-S® Number on the Apple Developer website.\n\n4.Enter verification contact information (name, email and Role/Job title) that Apple can call to verify your organisation.\n\nExamples include your managing director, IT director or finance director.\n\n5.Check your email for a message from Apple Business Manager with the subject line “Your enrolment is in review”.\n\nDuring the review process, your verification contact is contacted and asked to confirm information about you and your organisation before your enrolment is approved. Make sure that any filters allow mail from all apple.com domains. Return any missed phone calls quickly so the enrolment process can proceed smoothly.\n\n6.After your organisation is approved, immediately create at least one additional \nuser that has the role of Administrator. See Add administrators.\n\n- Important: If you forget or lose your password before the creation of \nat least one additional administrator, use the iforgot.apple.com website to reset your password.\n\n\nIntune connects to ABMIntune needs to establish a connection with ABM through a certificate before it can associate Apple devices on ABM with Intune\n\nLogin to IntunePortal｜ Select Devices｜Select Enroll devices | Select Enrollment program tokens\n\n-Select Add\n-Select agree\n-Download public key(CSR file)\n-Upload public key(CSR file) to ABM portal create new MDM server\n-Download MDM Server token, back to Intune portal \nenter ABM manage Apple ID and upload apple token\n\nTips：The uploaded Apple certificate needs to be updated annually\n\n\nCreate an Apple automatic registration configuration fileAfter connecting to ABM, it is necessary to continue creating an Apple device \nauto registration file\n\nLogin to IntunePortal｜ Select Devices｜Select Enroll devices \n| Select Enrollment program tokens ｜ Select Created tokens\n\n1.Select profiles\n2.Select Create profile\n3.User affinity  Enroll： with User Affinity\n4.Authentication Method：Setup Assistant with modern authentication\n5.Hide function settings according to requirements\n6.Set default profile\n\n\nAdd iPad through Apple Configurator-Create WiFi configuration file &amp; PrepareCreating a Wi-Fi profile (optional operation)\n- File\n- Create a new description file\n- Select WIFI\n- Save the file after configuration is complete\n\nConnect the device to Apple Configurator\n- Select prepare\n\n\nAdd iPad through Apple Configurator-Prepare DevicesThe below settings must be selected:\n◦ Manual Configuration.\n◦ Add to Apple School Manager or Apple Business\nManager.\n◦ Allow devices to pair with other computers.\nDo not select:\n◦ Activate and complete enrollment.\n◦ Enable Shared iPad.\n\n\nAdd iPad through Apple Configurator-Prepare Devices-This is the first time the operation is run on this Mac, create a “New Server”.\n-Create New Server\n\nHome &gt;Devices |iOS/iPadOs &gt;iOS/iPadOs |Enrollment &gt; Apple Configurator |Profiles &gt; Export profile\n-The Profile URL from the Setup Assistant Enrollment.\n\n\nAdd iPad through Apple Configurator-Define an MDM ServerAdd trust anchor certificate for MDM\nserver.Select the one with the Microsoft or Azure\nname on the list\n◦ appleconfigurator2.manage.microsoft.com\n◦ portal.azure.com\n◦ endpoint.microsoft.com\n\n- Default operation next step\n\n\nAdd iPad through Apple Configurator-Sign in ABM account- Authenticate to ABM/ASM with an account with\nthe “Device Enrollment Manager” role assigned\n- Upload the WiFi description file created before uploading\n- Click Next to start device registration\n- The registration process is automated and may result in some errors, \nbut the device should have already been added to the ABM backend\n\n\nIpad&#x2F;IOS Basic restrictionsIPad basic function limitations\nLogin to: https://intune.microsoft.com/\n1.Select Devices\n2.Select Manage Devices | Configuration\n3.Create New Policy\n \nPlatform:  iOS/iPadOS\nProfile Type: Device restrictions\n\n4. Set policy name\n\n5.Select App Store, Doc Viewing, Gaming\n\nSelect Block App store\n\n\nIPad restricts websitesIPad restricts websites through Policy browser\nLogin to: https://intune.microsoft.com/\n1.Select Devices\n2.Select Manage Devices | Configuration\n3.Create New Policy\n \nPlatform:  iOS/iPadOS\nProfile Type: Device features\n\n4. Set policy name\n\n5.Select Web Content Filter\nFilter Type: Specific websites only\nSpecific websites only\nURL\t\tBookmark Path\t\tTitle\nbaidu.com         Not configured                baidu\n\n\nIOS&#x2F;iPad OS registration with Company portalIOS/IpadOS device registration\n\n1.Download Company Portal from AppStore\n2.Download the configuration file after logging into Company Portal using EntraID\n3.Enter Settings - General VPN Device Management - Install Configuration Files\n4.Automatically bind to Intune in Company Portal\n\n\nIOS&#x2F;iPad OS registration with ABMIOS/Ipad OS device registration\n\n1.Add devices to ABM through Apple Configurator\n2.Assign devices to corresponding MDM servers\n3.After connecting the mobile phone to WiFi, operate the registration device\n4.Automatically download configuration files after entering the EntraID account \nfor registering the device\n5.After successful registration, you can see control prompts on the settings page\n\n\nControl Windows local account accessRestricting Windows EntraID users to User privileges\nLogin to:  https://portal.azure.com/\nEntraID account PC permission control default setting: Normal User (restricting software installation permissions)\nSign in to the Microsoft Entra admin center as a Global Administrator.\nSelect Device\nSelect Device Setting\nSet EntraID local administrator account (authorized by the administrator to temporarily install applications)\nSelect Manage Additional local administrators on all Microsoft Entra joined devices\n\n\nControl Windows browsing website(Edge or Chrome)Windows restricts websites through Policy browser\nLogin to: https://intune.microsoft.com/\n\n1.Select Devices | Windows\n2.Select Configuration\n3.Create New Policy\n \nPlatform  Windows 10 and later \nProfile Type Settings catalog\n\n4. Set policy name\n\n5.Select Microsoft Edge\nBlock access to a list of URLs Enable\nBlock access to a list of URLs (Device)\nValue：*\nDefine a list of allowed URLs Enabled\nDefine a list of allowed URLs (Device)\nValue：baidu.com, edge://policy\n\n\nWindows registration1.Windows device registration\nTo reset or create a new device, you can directly enter EntraID to log in and register\n\n2.Non remanufactured equipment or new equipment\nAfter entering the system, it will automatically register and pull the configuration file\n","slug":"Intune(updating)","date":"2024-06-21T07:59:33.000Z","categories_index":"Azure","tags_index":"Azure","author_index":"Randolph"},{"id":"72fa26fa2e846cb3727b93f856041af0","title":"Secondary Domain Controllers","content":"服务器架构最新添加的服务器为Win server 2019 Standard，需要购买Liscense\n准备工作• 在Hyper-V Server服务器上创建一台新的VM。• 确保新VM服务器已安装Windows Server2019操作系统。• 确保服务器已加入域。• 确保已备份域数据库。\n手动或自动运行DC服务器灾备计划使用 Windows Server 备份Windows Server 备份是 Windows Server 操作系统中内置的备份工具，可以用于备份域数据库和其他系统状态数据。具体步骤如下：\n\n在域控制器上，打开 服务器管理器。\n在 服务器管理器 中，单击 工具，然后单击 Windows Server 备份。\n在 Windows Server 备份 中，单击 本地备份。\n在 选择要备份的项 页上，选择 系统状态。\n在 指定备份目标 页上，选择备份目标位置。\n在 配置备份选项 页上，配置备份选项。\n在 确认备份设置 页上，确认备份设置，然后单击 备份。\n\n\n\n\n\n\n\n\nWARNING\n备份域数据库之前，应先关闭所有域控制器上的 Active Directory 用户和计算机 管理工具。\n\n提升服务器为域控制器\n打开服务器管理器。\n在服务器管理器中，单击角色和功能。\n在角色和功能页上，单击添加角色和功能。\n在添加角色和功能向导中，单击下一步。\n在选择安装类型页上，选择基于角色或基于功能的安装，然后单击下一步。\n在选择要安装的服务器页上，选择要提升为域控制器的服务器，然后单击下一步。\n在选择角色页上，选择Active Directory 域服务角色，然后单击下一步。3\n在选择功能页上，选择默认安装，然后单击下一步。\n在确认安装选择页上，确认安装选择，然后单击安装。\n安装完成后，服务器将自动重启。\n\n配置副域控服务器\n登录副域控服务器。\n打开Active Directory 用户和计算机。\n在Active Directory 用户和计算机中，右键单击域，然后选择属性。\n在域属性对话框中，单击域控制器选项卡。\n在域控制器选项卡上，单击添加。\n在选择要添加的域控制器对话框中，选择要添加的副域控服务器，然后单击确定。\n在域属性对话框中，单击确定。\n\n测试副域控服务器\n在客户端或副域计算机上，打开命令提示符。\n在命令提示符中，输入以下命令：netdom query fsmo（输出结果为主域控服务器）\n确认副域控服务器是否列为FSMO角色持有者。\n\n\n\n\n\n\n\n\nWARNING\n注意事项• 在提升服务器为域控制器之前，应先备份域数据库。• 在测试副域控服务器时，确保客户端计算机能够正常访问域资源。\n\n","slug":"Secondary Domain Controllers","date":"2024-04-08T07:15:09.000Z","categories_index":"Windows_Help","tags_index":"Windows_Help","author_index":"Randolph"},{"id":"fafab78aa4d5fb6eec8fed644ff9e98d","title":"Nmap","content":"Basic Usage\n-sP — nmap -sP 192.168.31.0/24\nVersion Detection\n-sV — nmap 192.168.31.80 -p 80 -sV\nOperating System Detection\n-O — nmap 192.168.31.80 -p 80 -O\nOutput Format\n-oN — Standard output\n-oX — XML output\nPort Specification\n\n-p 80\n-p 1-80\n-p 80,3389,22,21\n-p 1-65535\n-p-\nScan Techniques\n\n-sT — TCP Connect scan\n-sS — SYN stealth scan\n-sF — FIN scan\n-sN — Null scan\n-sX — Xmas scan\n","slug":"Nmap","date":"2024-02-22T01:50:57.000Z","categories_index":"Nmap","tags_index":"tools","author_index":"Randolph"},{"id":"72ec0505b1547b1e526bd99489aa60e3","title":"MacServer","content":"苹果硬件和MacOS作为服务器的局限性硬件选择和可扩展性：与专门的服务器硬件相比，苹果的硬件选择更加有限，可扩展性和定制性不如传统的服务器硬件。\n企业级特性和支持：虽然MacOS提供了稳定和高效的操作环境，但它在企业级特性、管理工具和第三方集成方面可能不如Windows Server丰富。\n成本：从成本效益角度考虑，苹果硬件通常价格较高，对于需要大量部署的场景，可能不是最经济的选择。\n\nMacOS和苹果硬件的优势：\n稳定性和安全性：MacOS以其稳定性和较少的维护需求而著称，这对于需要长时间运行的应用程序来说是一个重要的考虑因素。\n易用性：MacOS的用户界面和操作系统的整体设计注重简洁和易用性，这使得管理和维护相对容易。\n多媒体处理能力：苹果硬件和MacOS在图形处理、视频编辑和音频处理方面表现出色，对于这些需求的用户来说是一个强大的选择。\n软件生态：对于开发人员和创意专业人士来说，MacOS提供了强大的原生应用程序和工具。\n\nWindows Server的特点：\n广泛的行业支持：Windows Server在企业和IT行业中有着广泛的应用，很多企业级软件和服务都是以Windows Server为基础构建的。\n灵活的配置和管理：Windows Server提供了高度的配置和管理灵活性，特别是在网络服务、用户管理和数据服务方面。\n虚拟化：Windows Server的Hyper-V虚拟化解决方案是构建和管理虚拟机环境的强大工具，特别适合需要大规模虚拟化的环境。\n兼容性：由于Windows广泛的市场份额，Windows Server能够支持广泛的硬件和软件，保证了良好的兼容性。\n\nMacmini服务器远程管理｜可开启SSH建议使用有线接入Macmini，配置静态IP\n关闭睡眠，设置VNC（Virtual Network Computing）\n系统设置-通用-共享-打开远程管理添加LocalAccount，开启VNC配置密码\n屏幕共享-连接到： VNC：// IP Address\n输入用户名密码\n连接成功后可将脚本保存为桌面“name.vncloc”\n可直接拖拽文件\nVNC默认端口TCP&amp;UDP：5900｜3283\nSSH默认端口TCP&amp;UDP：22\n\nWindows接入\n通过Vnc Viewer\n\n文件服务器SMB系统设置-通用-共享-打开文件共享｜允许Windows访问\nMac&amp;Iphone连接服务器：SMB：// IP Address\n输入用户名密码\nWindows访问地址栏输入： \\\\IP Address\n输入用户名密码\n\n内容缓存服务器CCS系统设置-通用-共享-打开内容缓存\n\n缓存包含：\nmacOS、i0S、iPadoS、watch0s 等系统更亲App Store 应用程序更新\nicloud 照片和文档\nGarageBand、Xcode、Apple Books 内容Siri 高质量语音、语言字典\n\nServer Airplay可接入无蓝牙功能的音响设备，其他的苹果设备可以直接通过Airplay连接播放\n\n时光机备份建议服务器挂载新硬盘，文件共享处可添加新接硬盘（建议选择传输速度高的接口）\n高级设置改为共享为时间机器备份目的的位置，配置限制备份的大小\n\n磁盘工具创建磁盘阵列在 Mac 上的“磁盘工具” App  中，选取“文件”&gt;“RAID 助理”。\n选择磁盘阵列类型：\n条带 (RAID 0) 磁盘阵列：条带 RAID 磁盘阵列可加快数据访问速度。你不能在启动磁盘上创建 RAID 磁盘阵列；你必须先从另一个磁盘启动电脑。\n如果有多个磁盘，则可以创建带独立磁盘冗余阵列或条带 RAID 磁盘阵列，以更快访问磁盘。条带 RAID 磁盘阵列特别适用于大文件，如数码视频和数据库文件。\n\n如果所有磁盘都是差不多大且都使用快速连接与电脑相连，则最适合使用条带 RAID 磁盘阵列。考虑以下情形：\n\n如果磁盘的大小不同，则条带 RAID 磁盘阵列将认为所有磁盘与最小的那个一样大。如果磁盘的大小不同，可能要使用串联磁盘阵列，这种磁盘阵列的速度虽然不如条带 RAID 磁盘阵列，但是可让你充分利用其所有磁盘的容量。\n\n如果磁盘通过低速连接与电脑相连，例如 USB 连接，你可能不会获得更快的磁盘访问速度，即使使用条带 RAID 磁盘阵列。若要获得最佳性能，请使用带有快速连接的磁盘，如内置磁盘。\n镜像 (RAID 1) 磁盘阵列：通过镜像 RAID 磁盘阵列保护数据不受磁盘故障影响。创建镜像 RAID 磁盘阵列时，数据会写入多个磁盘，以便信息以冗余的方式储存。你不能在启动磁盘上创建 RAID 磁盘阵列；你必须先从另一个磁盘启动电脑。\n镜像独立磁盘冗余阵列或镜像 RAID 磁盘阵列可以帮助保护数据不受磁盘故障的影响。数据会一次写入两个或更多磁盘，因此如果其中一个磁盘发生故障或断开，Mac 仍可以从其他磁盘访问数据。如果重新连接断开的磁盘，RAID 磁盘阵列可以在后台重建该磁盘，从而使磁盘包含最新的数据。\n\n你可以将称为“热备份”的备用磁盘添加到磁盘阵列中，只有在另一个磁盘发生故障或断开时才会写入这些备用磁盘。如果磁盘发生故障或断开连接，则 RAID 磁盘阵列会重建其中一个热备份，因此它包含了最新的数据。如果在 RAID 磁盘阵列将一个磁盘替换成热备份后重新连接该磁盘，则重新连接的磁盘会被当作热备份。\n\n你可以选择让 RAID 磁盘阵列自动重建热备份磁盘，或者你可以自己重建。\n\n即使具有镜像的 RAID 磁盘阵列，仍需要定期备份数据。镜像功能只能保护数据以防某些类型的硬件故障，但用户错误或软件损坏并不在其保护之列。如果删除了一个文件，它也会从镜像上删除。如果软件损坏了一个文件，其在镜像上的副本也会被损坏。\n串联 (JBOD) 磁盘阵列：使用串联磁盘阵列来增大储存空间。如果需要一个大磁盘，但只有几个较小的磁盘，则可以创建串联磁盘阵列，以便将它们用作一个大磁盘。\n串联磁盘阵列，也称为“简单磁盘捆绑” (JBOD) 或“跨盘”，是由几个较小磁盘创建的一个大磁盘。串联磁盘阵列合并所有较小磁盘的容量，组成一个大磁盘。\n\n如果有一个文件（如数据库），它比你的任何一个磁盘都要大，则串联磁盘阵列就比较实用。如果需要使用一个大磁盘和两个小磁盘来创建一个镜像或条带 RAID 磁盘阵列，则串联 RAID 磁盘阵列也很用。\n\n如果磁盘阵列中的所有磁盘大小都差不多，请考虑使用条带 RAID 磁盘阵列，这可让你更快速地访问数据。\n\n创建串联磁盘阵列后，你可以使用“磁盘工具”为其添加更多磁盘以增加其大小。\n\n你无法使用某些磁盘管理功能，例如使用串联磁盘阵列进行文件保险箱磁盘加密。\n选择要包括在磁盘阵列中的磁盘的复选框。\n对于每个磁盘，请点按“角色”列中的弹出式菜单，选取“RAID 片区”或“备份”来将磁盘指定为磁盘阵列中的标准成员或备用选项，然后点按“下一步”。\n在“RAID 名称”栏中输入 RAID 磁盘阵列的名称。\n点按“格式”弹出式菜单，然后选取想要磁盘阵列中所有磁盘采用的宗卷格式。（请参阅“磁盘工具”中可用的文件系统格式。）\n点按“块大小”弹出式菜单，然后选取想要用于所有磁盘的磁盘块大小。\n创建条带磁盘阵列时，来自同一个文件的数据块跨驱动器分布。理想的状况是，数据在驱动器之间平均分布，实现最优大小，以便有效地访问数据。如果想要磁盘阵列具有高数据吞吐量，请选取较小的块大小，以便数据跨驱动器分布，且在一个驱动器访问数据的同时，另一个驱动器可以寻找下一个数据块。对于镜像磁盘阵列，请选取匹配你正在访问的数据的块大小。例如，在处理视频文件时，你的 Mac 访问的是大数据块，而在使用包含众多小型记录的数据库时，你的磁盘访问的可能是较小的信息块。\n如果正在创建镜像 RAID 磁盘阵列，请选择“自动重建”复选框，以允许磁盘阵列在其中某个磁盘重新连接时进行自动重建。\n点按“创建”。\n点按“完成”。\n\nMac 上“磁盘工具”中可用的文件系统格式Mac 上的“磁盘工具”支持多种文件系统格式：\nApple 文件系统 (APFS)：macOS 10.13 或后续版本使用的文件系统。\nMac OS 扩展：macOS 10.12 或之前版本使用的文件系统。\nMS-DOS (FAT) 和 ExFAT：与 Windows 兼容的文件系统。\nApple 文件系统 (APFS)\nApple 文件系统 (APFS) 是运行 macOS 10.13 或后续版本的 Mac 电脑所使用的默认文件系统，它具有强加密、空间共享、磁盘快照、快速目录大小统计等特性，以及改进的文件系统基础。虽然 APFS 最适合于新款 Mac 电脑中所用的闪存/SSD 储存，它也可以与使用传统硬盘驱动器 (HDD) 和外置直连储存设备的低版本系统配合使用。macOS 10.13 或后续版本支持 APFS 用于可引导启动的宗卷和数据宗卷。\nAPFS 按照需求分配容器（分区）中的磁盘空间。单个 APFS 容器包含多个宗卷时，容器的可用空间会共享，并且会自动按需分配到任意单独的宗卷。如果需要，你可以指定每个宗卷的保留大小和配额大小。每个宗卷仅使用整体容器的一部分，这样一来，可用空间即容器的总大小减去该容器中所有宗卷的大小。\n为运行 macOS 10.13 或后续版本的 Mac 电脑选取以下其中一种 APFS 格式。\nAPFS：使用 APFS 格式。如果不需要加密或区分大小写格式，请选取此选项。\nAPFS（加密）：使用 APFS 格式且加密宗卷。\nAPFS（区分大小写）：使用 APFS 格式并区分文件和文件夹名称的大小写。例如，名称为“Homework”和“HOMEWORK”的文件夹是两个不同的文件夹。\nAPFS（区分大小写，加密）：使用 APFS 格式，区分文件和文件夹名称的大小写且加密宗卷。例如，名称为“Homework”和“HOMEWORK”的文件夹是两个不同的文件夹。\n你可以轻松添加或删除 APFS 容器中的宗卷。APFS 容器中的每个宗卷都可以拥有其 APFS 格式：APFS、APFS（加密）、APFS（区分大小写）或 APFS（区分大小写，加密）。\nMac OS 扩展\n为兼容运行 macOS 10.12 或之前版本的 Mac 电脑选取以下其中一种 Mac OS 扩展文件系统格式。\nMac OS 扩展（日志式）：使用 Mac 格式（日志式 HFS Plus）来保护分层文件系统的完整性。如果不需要加密或区分大小写格式，请选取此选项。\nMac OS 扩展（日志式，加密）：使用 Mac 格式，要求密码，并加密分区。\nMac OS 扩展（区分大小写，日志式）：使用 Mac 格式并区分文件夹名称的大小写。例如，名称为“Homework”和“HOMEWORK”的文件夹是两个不同的文件夹。\nMac OS 扩展（区分大小写，日志式，加密）：使用 Mac 格式，区分文件夹名称的大小写，要求密码，并加密分区。\nWindows 兼容格式\n如果格式化磁盘以配合 Windows 使用，请选取以下其中一种兼容 Windows 的文件系统格式。\nMS-DOS (FAT)：用于 Windows 宗卷且大小为 32 GB 或不足 32 GB。\nExFAT：用于 Windows 宗卷且大小超过 32 GB。\n","slug":"MacServer","date":"2024-01-17T00:27:56.000Z","categories_index":"MacServer","tags_index":"MacServer","author_index":"Randolph"},{"id":"0cd13ce9ab92a30df5783eae706c3634","title":"Windows_Help","content":"操作系统版本、服务器型号和制造商,SN查询系统制造商和产品名：\nwmic csproduct get vendor, name\n查询基本系统信息：\nsysteminfo\n查询Windows的序列号\nwmic bios get serialnumber\n网络选项卡设置\ninetcpl.cpl\n组策略\ngpedit.msc\n注册表\nregedit\n\nWindows杂症win10重新部署winstore  admin-powershell\nGet-AppXPackage *WindowsStore* -AllUsers | Foreach &#123;Add-AppxPackage -DisableDevelopmentMode -Register &quot;$($_.InstallLocation)\\AppXManifest.xml&quot;&#125;\n\nBitlocker   解密-忘记密码后\n####manage-bde -unlock F: -RecoveryPassword 083424-409046-107448-043967-593714-367070-608410-622149\n\nWindows Defender Firewall防火墙不能自启解决方法\nwin+R组合键，输入regedit打开注册表，HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\WdNisSvc的数值改成2。然后重启。\n\nmsinfo32打开系统信息，在软件环境，Windows错误报告下，找到关于Windows Search的错误\n\nwindows EntraID 登陆报错\n清除 Teams 缓存以解决此问题。在 Windows 设备上，请按 Windows 键 + R 打开 运行 窗口，然后输入\n%appdata%\\Microsoft\\Teams 并按 Enter。删除 Cache 和 Databases 文件夹中的所有文件。\n\nWindows进程故障导致不显示桌面图标+任务栏启动任务管理器:\n1.按下 Ctrl + Shift + Esc 键打开任务管理器。\n如果任务管理器也无法打开，你可以尝试按 Ctrl + Alt + Delete 键，然后选择“任务管理器”。\n2.重启Windows资源管理器:\n在任务管理器中，找到“进程”标签页。\n寻找“Windows资源管理器”或“Explorer.exe”进程。\n如果找到了，点击它，然后选择“重启”按钮（在右下角）。这将重新启动资源管理器进程。\n如果没有找到，你可以手动启动它。点击任务管理器左下角的“文件”菜单，选择“运行新任务”，输入“explorer.exe”，然后按回车。\n3.检查系统文件:\n如果问题持续存在，可能是由于系统文件损坏。你可以使用系统文件检查器工具（SFC）来修复它们。打开命令提示符（以管理员身份），输入 sfc /scannow，然后按回车。\n4.考虑系统还原:\n如果以上步骤都无法解决问题，你可能需要考虑执行系统还原，将计算机恢复到之前的状态。\n5.查看是否有病毒或恶意软件:\n运行你的防病毒软件进行全面扫描，确保没有病毒或恶意软件导致了这个问题。\n6.更新或重新安装显卡驱动程序:\n有时驱动程序问题也会导致显示问题。尝试更新或重新安装显卡驱动程序。\n\nWindows服务器升级兼容性检查：确保您的硬件与Windows Server目标版本兼容\n数据备份：备份所有重要数据，包括系统状态和配置\n查阅文档：按照微软官方文档中详述的升级过程\nhttps://learn.microsoft.com/zh-cn/windows-server/get-started/upgrade-overview\n更新当前系统：升级Windows Server最新更新\n在非生产环境中测试：如果可能，先在非关键环境中进行测试升级\n计划停机时间：在最小影响期间安排升级\n执行升级：使用Windows Server安装开始升级过程，并选择保留文件、设置和应用程序的选项\n\nResetting the Windows Network StackIn an admin command prompt or admin powershell window, run the following\nnetsh winsock reset\nnetsh int ip reset\nipconfig /release\nipconfig /renew\nipconfig /flushdns\n","slug":"Windows_Help","date":"2024-01-05T01:03:49.000Z","categories_index":"Windows_Help","tags_index":"Windows_Help","author_index":"Randolph"},{"id":"bac1aa86ebce91d113e94cff61d66d9f","title":"Datacom_CMD_VLAN_Stp&Rstp_Edit","content":"数据传输应用层(数据data)-传输层+TCPheader(段segment)-网络层+IPheader(包packet)数据链路层+Eth header(帧frame)+FCS-物理层(位bit)\n基础命令查看当前路径\npwd\n查看当前目录\ndir\n更多信息\nmore\n移动位置\ncd\n创建目录\nmkdir\n移除目录\nrmdir\ncopy\nmove\nrename\nsave\ndelete\nundelete\n清理垃圾箱\nreset recycle-bin\n\nip address\n\nreboot\n\nsystemname name\n\nclock timezone\n\nclock datetime\n\n夏令时\n\nclock daylight-saving-time\n\n重置\n\nreset saved-configuration\n\n时长保护\n\nidle-timeout minutes\n\n当前运行配置文件\n\ndisplay current-configuration\n\n保存的配置文件\n\ndisplay saved-configuration\n\n启动参数\n\ndisplay startup\n\nstartup saved-configuration\n\n删除配置禁用功能\n\nundo\n\n对比配置\n\ncompare configuration\n\nPutty con port连接\n\nvlan配置Pc send untagged frame to switch and then switch make tag on the untagged frame\n(vlan limit range 1-4094)\n帧的FCS字段是数据传输过程中的校验字段\nvlanID    PVID\ndisplay vlan\ndisplay vlan verbose\n查看交换机mac地址表\ndisplay Mac-address verbose\nvlan batch\n[port model]port link-type access/trunk/hybird\n配置缺省vlan\n[port model]port default vlan(vlan-id 1-4094)\nTrunk接口加入指定Vlan\n[port model]port trunk allow-pass vlan 1-4094/all\nvlan1 默认在trunk passlist中如无特殊需求进行删除\nundo port trunk allow-pass vlan 1\n\nTrunk口缺省Vlan\n[port model]port trunk pvid vlan (vlan id)\nHybird接口加入指定vlan\n[port model]port hybird untagged/tagged vlan （vlanid）\nhybird口缺省Vlan\n[port model]port hybird pvid vlan (vlan id)\n关闭多余的接口\n[port model]shoutdown\n二层接口转换三层\n[port model]undo portswitch\n设置vlan\n[sys model]vlan 3\n[sys model]vlan batch 2 to 6\n创建vlanif接口\n[sys model]interface Vlanif 3\n[port vlanif model]ip add 1.1.1.1\nMac与Vlan关联(基于mac划分Vlan使用hybird接口)\n[sys model]vlan 3\n[vlan model]mac-vlan Mac-address a09-asd-928\n[port model]Mac-vlan enable\n\nSTPstp是被动算法，依赖定时BPDU报文收敛拓扑配置速度慢影响网络通信速度，没有细致区分接口状态角色\nRSTPRSTP具有端口角色，指定端口，根端口，预备端口，备份端口，边缘端口具有三种端口状态收敛速度更快，兼容STP\n桥ID   COST开销   RPC跟路径开销 PORTID.  BPDU\n配置生成树工作模式\n[sys model]stp mode (stp/rstp/mstp)\n可选 配置根桥设备优先级为0等级固定\n[sys model]stp root primary\n可选 配置备份根桥设备优先级为4096等级固定\n[sys model]stp root secondary\n可选 配置交换机stp优先级默认32768\n[sys model]stp priority 32768\n可选 配置接口路径开销\n[sys model]stp pathcost-standard\n设置开销值\n[port model]stp cost\n配置接口优先级默认128\n[Huawei-intf]stp priority 128\n启用生成树\n[sys model]stp enable\n查看生成树状态\n[sys model]display stp brief\n","slug":"Datacom-CMD-VLAN-Stp","date":"2023-12-28T10:24:10.000Z","categories_index":"DatacomIA","tags_index":"DatacomIA","author_index":"Randolph"},{"id":"16677ceba435b70d8852ba6ff8cc14f0","title":"Fake.Email_kali","content":"MTP协议  Mail Transport Protocol简单邮件传输协议 (Simple Mail Transfer Protocol, SMTP) Internet传输email的标准。\n•    SMTP默认端口：25\n•    SSL SMTP默认端口：465\n\nSMTP相关安全协议 - SPF发件人策略框架(Sender Policy Framework ,SPF)是为了防范垃圾邮件而提出来的一种DNS记录类型\n它是一种TXT类型的记录，它用于登记某个域名拥有的用来外发邮件的所有IP地址。\n可确定允许哪些邮件服务器代表您的域来发送电子邮件\n&quot;v=spf1 a:mail.randolph.wang  mx:mail1.qq.com ip4:1.1.1.0/24 -all\nincloud：spf.mail.qq.com~all&quot;\n授权\nmail.randolph.wang服务器发件人\n以mx记录进行授权\n任何ip地址在 1.1.1.0 - 1.1.1.255 之间服务器的发信人\nincloud以网域形式授权\n\n机制参数v   spf版本。此标记是必填标记，且必须是记录中第一个标记。必须为v=spf1\nip4 以ip4地址或地址范围的形式授权邮件服务器。该值必须为标准格式的IPv4地址或地址范围\nip6 以ip6地址或地址范围的形式授权邮件服务器。该值必须为标准格式的IPv6地址或地址范围\na   以域名的形式授权邮件服务器\nmx  以网域的形式授权服务器 EX：a：solar.com\nincloud     以网域的形式授权第三方电子邮件发件人\nall         指定所有的传入邮件与该机制匹配。建议始终在spf中包含该机制\n            必须为spf最后一个参数\n            `all软失败，邮件接收服务器通常接收未纳入spf记录的邮件，相关邮件标为可疑邮件\n            ~all失败，邮件接收服务器可能会拒绝未纳入spf记录的邮件，相关邮件标为垃圾邮件\n\nSPF验证原理邮件服务器收到了一封邮件，来自主机的IP是1.1.1.4，并且声称发件人为email@ex.com\n邮件服务器会去查询example.com的 SPF 记录。\n如果该域的 SPF 记录设置允许 IP为47.100.47.4的主机发送邮件，则服务器就认为这封邮件是合法的；\n如果不允许，则通常会退信，或将其标记为垃圾/仿冒邮件。\n\nSWAKSswaks --to e@ex.com     //测试邮箱的连通性；\n选项说明：\n--from  000@qq.com     //发件人邮箱；\n--ehlo  qq.com      //伪造邮件ehlo头，即是发件人邮箱的域名。提供身份认证\n--body &quot;http://www.baidu.com&quot;    //引号中的内容即为邮件正文；\n--header &quot;Subject:邮件标题&quot;   //邮件头信息，subject为邮件标题\n--data ./Desktop/email.txt    //将正常源邮件的内容保存成TXT文件，再作为正常邮件发送；\n–attach 添加附件\n","slug":"Fake-Email_kali","date":"2022-01-16T16:03:19.000Z","categories_index":"Fake.Email","tags_index":"Fake.Email","author_index":"Randolph"},{"id":"5807d01a83cab541c255c8528031d9c8","title":"LVM逻辑卷管理器","content":"部署逻辑卷查看当前磁盘\n[root@localhost randy]# ls /dev/sd*\n/dev/sda  /dev/sda1  /dev/sda2  /dev/sdb  /dev/sdc  /dev/sdd  /dev/sde\n创建逻辑卷\n[root@localhost randy]# pvcreate /dev/sd[b-c]\n  Physical volume &quot;/dev/sdb&quot; successfully created.\n  Physical volume &quot;/dev/sdc&quot; successfully created.\n创建逻辑卷组\n[root@localhost randy]# vgcreate ran /dev/sd[b-c]\n  Volume group &quot;ran&quot; successfully created\n逻辑卷组切割  -l制定单元大小    -L制定容量大小\n[root@localhost randy]# lvcreate -n ra -L 30G ran\n  Logical volume &quot;ra&quot; created.\n  \nLVM仅支持ext3 or 4文件系统\n格式化\nroot@localhost randy]# mkfs.ext4 /dev/ran/ra\nmke2fs 1.42.9 (28-Dec-2013)\nFilesystem label=\nOS type: Linux\nBlock size=4096 (log=2)\nFragment size=4096 (log=2)\nStride=0 blocks, Stripe width=0 blocks\n1966080 inodes, 7864320 blocks\n393216 blocks (5.00%) reserved for the super user\nFirst data block=0\nMaximum filesystem blocks=2155872256\n240 block groups\n32768 blocks per group, 32768 fragments per group\n8192 inodes per group\nSuperblock backups stored on blocks: \n    32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, \n    4096000\n\nAllocating group tables: done                            \nWriting inode tables: done                            \nCreating journal (32768 blocks): done\nWriting superblocks and filesystem accounting information: done\n\n挂载\n[root@localhost randy]# mkdir /hh\n[root@localhost randy]# vim /etc/fstab\n/dev/ran/ra ext4 defaults 0 0\n自动挂载\n[root@localhost randy]# mount -a\n查看挂载（磁盘格式化相关文件系统后内存略有缩水）\n[root@localhost randy]# df -h\nFilesystem               Size  Used Avail Use% Mounted on\n/dev/mapper/centos-root   30G  4.5G   25G  16% /\ndevtmpfs                 3.8G     0  3.8G   0% /dev\ntmpfs                    3.9G     0  3.9G   0% /dev/shm\ntmpfs                    3.9G   13M  3.8G   1% /run\ntmpfs                    3.9G     0  3.9G   0% /sys/fs/cgroup\n/dev/sda1                297M  153M  145M  52% /boot\ntmpfs                    781M  4.0K  781M   1% /run/user/42\ntmpfs                    781M   24K  781M   1% /run/user/1000\n/dev/sr0                 4.2G  4.2G     0 100% /run/media/randy/CentOS 7 x86_64\n/dev/mapper/ran-ra        30G   45M   28G   1% /hh\n\n扩容逻辑卷[randy@localhost ~]$ df -h\n文件系统                 容量  已用  可用 已用% 挂载点\n/dev/mapper/centos-root   30G  3.4G   26G   12% /\ndevtmpfs                 1.7G     0  1.7G    0% /dev\ntmpfs                    1.8G     0  1.8G    0% /dev/shm\ntmpfs                    1.8G   13M  1.7G    1% /run\ntmpfs                    1.8G     0  1.8G    0% /sys/fs/cgroup\n/dev/sda1                297M  153M  145M   52% /boot\n/dev/mapper/ran-ra       9.8G   37M  9.2G    1% /hh\ntmpfs                    351M  4.0K  351M    1% /run/user/42\ntmpfs                    351M   24K  351M    1% /run/user/1000\n/dev/sr0                 4.2G  4.2G     0  100% /run/media/randy/CentOS 7 x86_64\n卸载逻辑卷\n[root@localhost randy]# umount /hh\n扩展逻辑卷容量\n[root@localhost randy]# lvextend -L +300M /dev/ran/ra\n  Size of logical volume ran/ra changed from 10.00 GiB (2560 extents) to 10.29 GiB (2635 extents).\n  Logical volume ran/ra successfully resized.\n检查硬盘的完整性，确认目录结构、内容和文件内容没有丢失。一般情况下没有报错，均为正常情况\n[root@localhost randy]# e2fsck -f /dev/ran/ra\ne2fsck 1.42.9 (28-Dec-2013)\n第一步: 检查inode,块,和大小\n第二步: 检查目录结构\n第3步: 检查目录连接性\nPass 4: Checking reference counts\n第5步: 检查簇概要信息\n/dev/ran/ra: 11/655360 files (0.0% non-contiguous), 83137/2621440 blocks\n重置设备在系统中的容量。刚刚是对LV（逻辑卷）设备进行了扩容操作，但系统内核还没有同步到这部分新修改的信息，需要手动进行同步\n[root@localhost randy]# resize2fs /dev/ran/ra\nresize2fs 1.42.9 (28-Dec-2013)\nResizing the filesystem on /dev/ran/ra to 2698240 (4k) blocks.\nThe filesystem on /dev/ran/ra is now 2698240 blocks long.\n\n自动挂载\n[root@localhost randy]# mount -a\n[root@localhost randy]# df -h\n文件系统                 容量  已用  可用 已用% 挂载点\n/dev/mapper/centos-root   30G  3.4G   26G   12% /\ndevtmpfs                 1.7G     0  1.7G    0% /dev\ntmpfs                    1.8G     0  1.8G    0% /dev/shm\ntmpfs                    1.8G   13M  1.7G    1% /run\ntmpfs                    1.8G     0  1.8G    0% /sys/fs/cgroup\n/dev/sda1                297M  153M  145M   52% /boot\ntmpfs                    351M  4.0K  351M    1% /run/user/42\ntmpfs                    351M   24K  351M    1% /run/user/1000\n/dev/sr0                 4.2G  4.2G     0  100% /run/media/randy/CentOS 7 x86_64\n/dev/mapper/ran-ra        11G   41M  9.5G    1% /hh\n\n缩小逻辑卷[root@localhost randy]# umount /hh\n检查磁盘是否有损坏   \n[root@localhost randy]# e2fsck -f /dev/ran/ra\ne2fsck 1.42.9 (28-Dec-2013)\n第一步: 检查inode,块,和大小\n第二步: 检查目录结构\n第3步: 检查目录连接性\nPass 4: Checking reference counts\n第5步: 检查簇概要信息\n/dev/ran/ra: 11/679936 files (0.0% non-contiguous), 85706/2698240 blocks\n通知系统将内存修改到5G\n[root@localhost randy]# resize2fs /dev/ran/ra 5G\nresize2fs 1.42.9 (28-Dec-2013)\nResizing the filesystem on /dev/ran/ra to 1310720 (4k) blocks.\nThe filesystem on /dev/ran/ra is now 1310720 blocks long.\nLv命令缩减空间\n[root@localhost randy]# lvreduce -L 5G /dev/ran/ra\n  WARNING: Reducing active logical volume to 5.00 GiB.\n  THIS MAY DESTROY YOUR DATA (filesystem etc.)\nDo you really want to reduce ran/ra? [y/n]: y\n  Size of logical volume ran/ra changed from 10.29 GiB (2635 extents) to 5.00 GiB (1280 extents).\n  Logical volume ran/ra successfully resized.\n自动挂载\n[root@localhost randy]# mount -a\n[root@localhost randy]# df -h\n文件系统                 容量  已用  可用 已用% 挂载点\n/dev/mapper/centos-root   30G  3.4G   26G   12% /\ndevtmpfs                 1.7G     0  1.7G    0% /dev\ntmpfs                    1.8G     0  1.8G    0% /dev/shm\ntmpfs                    1.8G   13M  1.7G    1% /run\ntmpfs                    1.8G     0  1.8G    0% /sys/fs/cgroup\n/dev/sda1                297M  153M  145M   52% /boot\ntmpfs                    351M  4.0K  351M    1% /run/user/42\ntmpfs                    351M   28K  351M    1% /run/user/1000\n/dev/sr0                 4.2G  4.2G     0  100% /run/media/randy/CentOS 7 x86_64\n/dev/mapper/ran-ra       4.8G   33M  4.5G    1% /hh\n\n逻辑卷快照[randy@localhost ~]$ df -h\n文件系统                 容量  已用  可用 已用% 挂载点\n/dev/mapper/centos-root   30G  3.4G   26G   12% /\ndevtmpfs                 1.7G     0  1.7G    0% /dev\ntmpfs                    1.8G     0  1.8G    0% /dev/shm\ntmpfs                    1.8G   13M  1.7G    1% /run\ntmpfs                    1.8G     0  1.8G    0% /sys/fs/cgroup\n/dev/sda1                297M  153M  145M   52% /boot\n/dev/mapper/ran-ra       4.8G   33M  4.5G    1% /hh\ntmpfs                    351M  4.0K  351M    1% /run/user/42\ntmpfs                    351M   20K  351M    1% /run/user/1000\n/dev/sr0                 4.2G  4.2G     0  100% /run/media/randy/CentOS 7 x86_64\n查看逻辑卷剩余和使用的内存\n[root@localhost randy]# vgdisplay\n  --- Volume group ---\n  VG Name               ran\n  System ID             \n  Format                lvm2\n  Metadata Areas        2\n  Metadata Sequence No  4\n  VG Access             read/write\n  VG Status             resizable\n  MAX LV                0\n  Cur LV                1\n  Open LV               1\n  Max PV                0\n  Cur PV                2\n  Act PV                2\n  VG Size               39.99 GiB\n  PE Size               4.00 MiB\n  Total PE              10238\n  Alloc PE / Size       1280 / 5.00 GiB\n  Free  PE / Size       8958 / 34.99 GiB\n  VG UUID               4URcXh-G5x8-1I9u-G7q0-1cI2-R1dK-ylqEIM\n   \n  --- Volume group ---\n写入一个测试文件\n[root@localhost randy]# echo &quot;this is test file context let&#x27;s say hello word&quot; &gt; /hh/readme.txt\n[root@localhost randy]# ll /hh\n总用量 20\ndrwx------. 2 root root 16384 11月 29 09:08 lost+found\n-rw-r--r--. 1 root root    47 11月 29 15:21 readme.txt\n使使用-s参数生成一个快照卷，使用-L参数指定切割的大小，需要与要做快照的设备容量保持一致。另外，还需要在命令后面写上是针对哪个逻辑卷执行的快照操作，稍后数据也会还原到这个相应的设备上\n[root@localhost randy]# lvcreate -s -n snap -L 5G /dev/ran/ra\n  Logical volume &quot;snap&quot; created.\n[root@localhost randy]# dd if=/dev/zero of=/hh/files count=1 bs=100M\n记录了1+0 的读入\n记录了1+0 的写出\n104857600字节(105 MB)已复制，0.638687 秒，164 MB/秒\n查看生成文件\n[root@localhost randy]# ll /hh\n总用量 102420\n-rw-r--r--. 1 root root 104857600 11月 29 16:05 files\ndrwx------. 2 root root     16384 11月 29 09:08 lost+found\n-rw-r--r--. 1 root root        47 11月 29 15:21 readme.txt\n取消挂载\n[root@localhost randy]# umount /hh\n快照还原\n[root@localhost randy]# lvconvert --merge /dev/ran/snap\n  Merging of volume ran/snap started.\n  ran/ra: Merged: 98.22%\n\n  ran/ra: Merged: 100.00%\n自动挂载\n[root@localhost randy]# mount -a\n查看结果\n[root@localhost randy]# ll /hh\n总用量 20\ndrwx------. 2 root root 16384 11月 29 09:08 lost+found\n-rw-r--r--. 1 root root    47 11月 29 15:21 readme.txt\n\n删除逻辑卷[root@localhost randy]# umount /hh\n[root@localhost randy]# vim /etc/fstab\n[root@localhost randy]# lvremove /dev/ran/ra\nDo you really want to remove active logical volume ran/ra? [y/n]: y\n  Logical volume &quot;ra&quot; successfully removed\n[root@localhost randy]# vgremove ran\n  Volume group &quot;ran&quot; successfully removed\n[root@localhost randy]# pvremove /dev/sd[b-c]\n  Labels on physical volume &quot;/dev/sdb&quot; successfully wiped.\n  Labels on physical volume &quot;/dev/sdc&quot; successfully wiped.\n","slug":"LVM逻辑卷管理器","date":"2021-11-30T04:40:31.000Z","categories_index":"","tags_index":"Linux","author_index":"Randolph"},{"id":"784cfd3583b2ab178009150908334afb","title":"linux RAD磁盘阵列","content":"RAID 0、1、5、10方案技术对比RAID级别    最少硬盘    可用容量    读写性能    安全性\n0           2          n           n        低       追求最大容量和速度，任何一块盘损坏，数据全部异常。\n1           2          n/2         n        高    追求最大安全性，只要阵列组中有一块硬盘可用，数据不受影响。\n5           3          n-1         n-1      中    在控制成本的前提下，追求硬盘的最大容量、速度及安全性，允许有一块硬盘异常，数据不受影响。\n10          4          n/2         n/2      高    综合RAID1和RAID0的优点，追求硬盘的速度和安全性，允许有一半硬盘异常（不可同组），数据不受影响\n\nmdadm命令部署磁盘阵列参数    作用\n-a    检测设备名称\n-n    指定设备数量\n-l    指定RAID级别\n-C    创建\n-v    显示过程\n-f    模拟设备损坏\n-r    移除设备\n-Q    查看摘要信息\n-D    查看详细信息\n-S    停止RAID磁盘阵列\n\n部署测试创建阵列\n[root@linuxprobe ~]# mdadm -Cv /dev/md0 -n 4 -l 10 /dev/sd[b-e]\nmdadm: layout defaults to n2\nmdadm: layout defaults to n2\nmdadm: chunk size defaults to 512K\nmdadm: size set to 20954112K\nmdadm: Defaulting to version 1.2 metadata\nmdadm: array /dev/md0 started.\n--------------------------------------------------\n初始化过程大约需要1分钟左右，期间可以用-D参数进行查看\n[root@linuxprobe ~]# mdadm -D /dev/md0\n/dev/md0:\n           Version : 1.2\n     Creation Time : Wed Jan 13 08:24:58 2021\n        Raid Level : raid10\n        Array Size : 41908224 (39.97 GiB 42.91 GB)\n     Used Dev Size : 20954112 (19.98 GiB 21.46 GB)\n      Raid Devices : 4\n     Total Devices : 4\n       Persistence : Superblock is persistent\n\n       Update Time : Thu Jan 14 04:49:57 2021\n             State : clean \n    Active Devices : 4\n   Working Devices : 4\n    Failed Devices : 0\n     Spare Devices : 0\n\n            Layout : near=2\n        Chunk Size : 512K\n\nConsistency Policy : resync\n\n              Name : localhost.localdomain:0  (local to host linuxprobe.com)\n              UUID : 289f501b:3f5f70f9:79189d77:f51ca11a\n            Events : 17\n\n    Number   Major   Minor   RaidDevice State\n       0       8       16        0      active sync set-A   /dev/sdb\n       1       8       32        1      active sync set-B   /dev/sdc\n       2       8       48        2      active sync set-A   /dev/sdd\n       3       8       64        3      active sync set-B   /dev/sde\n--------------------------------------------------\n初始化完成后格式化阵列\n[root@linuxprobe ~]# mkfs.ext4 /dev/md0\nmke2fs 1.44.3 (10-July-2018)\nCreating filesystem with 10477056 4k blocks and 2621440 inodes\nFilesystem UUID: d1c68318-a919-4211-b4dc-c4437bcfe9da\nSuperblock backups stored on blocks: \n    32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208, \n    4096000, 7962624\nAllocating group tables: done                            \nWriting inode tables: done                            \nCreating journal (65536 blocks): done\nWriting superblocks and filesystem accounting information: done  \n--------------------------------------------------\n挂载硬盘\n[root@linuxprobe ~]# mkdir /RAID\n[root@linuxprobe ~]# mount /dev/md0 /RAID\n[root@linuxprobe ~]# df -h\nFilesystem             Size  Used Avail Use% Mounted on\ndevtmpfs               969M     0  969M   0% /dev\ntmpfs                  984M     0  984M   0% /dev/shm\ntmpfs                  984M  9.6M  975M   1% /run\ntmpfs                  984M     0  984M   0% /sys/fs/cgroup\n/dev/mapper/rhel-root   17G  3.9G   14G  23% /\n/dev/sr0               6.7G  6.7G     0 100% /media/cdrom\n/dev/sda1             1014M  152M  863M  15% /boot\ntmpfs                  197M   16K  197M   1% /run/user/42\ntmpfs                  197M  3.5M  194M   2% /run/user/0\n/dev/md0                40G   49M   38G   1% /RAID\n--------------------------------------------------\n编辑启动文件\n[root@linuxprobe ~]# echo &quot;/dev/md0 /RAID ext4 defaults 0 0&quot; &gt;&gt; /etc/fstab\n\n磁盘模拟损坏[root@linuxprobe ~]# mdadm /dev/md0 -f /dev/sdb\n--------------------------------------------------\n移除故障磁盘\n[root@linuxprobe ~]# mdadm /dev/md0 -r /dev/sdb\n--------------------------------------------------\n更换硬盘后添加硬盘\n[root@linuxprobe ~]# mdadm /dev/md0 -a /dev/sdb\n\n磁盘阵列+备份盘    -x参数为备份参数[root@linuxprobe ~]# mdadm -Cv /dev/md0 -n 3 -l 5 -x 1 /dev/sd[b-e]\n","slug":"linux-RAD磁盘阵列","date":"2021-11-22T15:15:12.000Z","categories_index":"Linux","tags_index":"Linux","author_index":"Randolph"},{"id":"e769edd094fa55e708d00eec9988af0c","title":"linux 存储结构与管理硬盘","content":"一切从“&#x2F;”开始绝对路径（absolute path）：从/根目录写起\n相对路径（relative path）：当前路径写起\n--------------------------------------------------\n/boot\t\t开机所需文件—内核、开机菜单以及所需配置文件等\n/dev\t\t以文件形式存放任何设备与接口\n/etc\t\t配置文件\n/home\t\t用户家目录\n/bin\t\t存放单用户模式下还可以操作的命令\n/lib\t\t开机时用到的函数库，以及/bin与/sbin下面的命令要调用的函数\n/sbin\t\t开机过程中需要的命令\n/media\t\t用于挂载设备文件的目录\n/opt\t\t放置第三方的软件\n/root\t\t系统管理员的家目录\n/srv\t\t一些网络服务的数据文件目录\n/tmp\t\t任何人均可使用的“共享”临时目录\n/proc\t\t虚拟文件系统，例如系统内核、进程、外部设备及网络状态等\n/usr/local\t用户自行安装的软件\n/usr/sbin\tLinux系统开机时不会使用到的软件/命令/脚本\n/usr/share\t帮助与说明文件，也可放置共享文件\n/var\t    主要存放经常变化的文件，如日志\n/lost+found\t当文件系统发生错误时，将一些丢失的文件片段存放在这里\n\n物理设备的命名规则IDE设备\t\t\t/dev/hd[a-d]\nSCSI/SATA/U盘\t/dev/sd[a-z]\nvirtio设备\t\t/dev/vd[a-z]\n软驱\t\t\t\t/dev/fd[0-1]\n打印机\t\t\t/dev/lp[0-15]\n光驱\t\t\t\t/dev/cdrom\n鼠标\t\t\t\t/dev/mouse\n磁带机\t\t\t/dev/st0或/dev/ht0\n\n主分区配置[root@localhost randy]# ls /dev/sdb  查看当前新磁盘\n/dev/sdb\n[root@localhost randy]# fdisk /dev/sdb\nWelcome to fdisk (util-linux 2.23.2).\n\nChanges will remain in memory only, until you decide to write them.\nBe careful before using the write command.\n\nDevice does not contain a recognized partition table\nBuilding a new DOS disklabel with disk identifier 0xf1fda1bf.\nn代表新建主分区\nCommand (m for help): n\nPartition type:\n   p   primary (0 primary, 0 extended, 4 free)\n   e   extended\np新建主分区\nSelect (default p): p\n配置分区编号\nPartition number (1-4, default 1): 1\n分区大小默认2048（不重要）\nFirst sector (2048-41943039, default 2048): 2048\n设置分区大小\nLast sector, +sectors or +size&#123;K,M,G&#125; (2048-41943039, default 41943039): +2G\nPartition 1 of type Linux and of size 2 GiB is set\np查看当前分区\nCommand (m for help): p\n\nDisk /dev/sdb: 21.5 GB, 21474836480 bytes, 41943040 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk label type: dos\nDisk identifier: 0xf1fda1bf\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1            2048     4196351     2097152   83  Linux\nw保存当前分区信息\nCommand (m for help): w\nThe partition table has been altered!\n\nCalling ioctl() to re-read partition table.\nSyncing disks.\n\n查看建好的分区\n[root@localhost randy]# ls /dev/sdb\n/dev/sdb\n[root@localhost randy]# ls /dev/sdb1\n/dev/sdb1\n\n格式化分区   根据系统类型进行格式化\n[root@localhost randy]# mkfs.ext4 /dev/sdb1\nmkfs.btrfs   mkfs.ext2    mkfs.ext4    mkfs.minix   mkfs.vfat    \nmkfs.cramfs  mkfs.ext3    mkfs.fat     mkfs.msdos   mkfs.xfs  \n进行挂载（同一个目录只能挂载一个硬盘）\n[root@localhost randy]# mkdir /ran  创建目录\n[root@localhost randy]# mount /dev/sdb1 /ran  进行挂载\n[root@localhost randy]# df -lh  查看挂载好的目录\nFilesystem               Size  Used Avail Use% Mounted on\n/dev/mapper/centos-root   30G  4.4G   25G  16% /\ndevtmpfs                 471M     0  471M   0% /dev\ntmpfs                    488M     0  488M   0% /dev/shm\ntmpfs                    488M  8.6M  479M   2% /run\ntmpfs                    488M     0  488M   0% /sys/fs/cgroup\n/dev/sda1                297M  140M  157M  48% /boot\ntmpfs                     98M  4.0K   98M   1% /run/user/42\ntmpfs                     98M   36K   98M   1% /run/user/1000\n/dev/sr0                 4.2G  4.2G     0 100% /run/media/randy/CentOS 7 x86_64\n/dev/sdb1                2.0G  6.0M  1.8G   1% /ran\n\n编辑/etc/fstab(重启生效配置)\n磁盘的名称+磁盘挂载目录+文件系统格式+磁盘权限默认（defaults）+是否进行自动备份+是否进行自动校验（0否）\n/dev/sdb1 /ran ext4 defaults 0 0\n\ndu -sh /* 查看每一个文件占用的大小\n\n交换分区swap扩展[root@localhost /]# fdisk /dev/sdb\nWelcome to fdisk (util-linux 2.23.2).\n\nChanges will remain in memory only, until you decide to write them.\nBe careful before using the write command.\n\n\nCommand (m for help): n 创建新分区\nPartition type:\n   p   primary (1 primary, 0 extended, 3 free)\n   e   extended\nSelect (default p): e 新建扩展分区\nPartition number (2-4, default 2): 2  默认\nFirst sector (4196352-41943039, default 4196352): \nUsing default value 4196352\nLast sector, +sectors or +size&#123;K,M,G&#125; (4196352-41943039, default 41943039): \nUsing default value 41943039\nPartition 2 of type Extended and of size 18 GiB is set\n\nCommand (m for help): n 扩展分区不能直接使用继续创建\nPartition type:\n   p   primary (1 primary, 1 extended, 2 free)\n   l   logical (numbered from 5)\nSelect (default p): l  新建逻辑分区\nAdding logical partition 5  默认\nFirst sector (4198400-41943039, default 4198400): \nUsing default value 4198400\nLast sector, +sectors or +size&#123;K,M,G&#125; (4198400-41943039, default 41943039): +3G    \nPartition 5 of type Linux and of size 3 GiB is set\n\nCommand (m for help): p 查看信息\n\nDisk /dev/sdb: 21.5 GB, 21474836480 bytes, 41943040 sectors\nUnits = sectors of 1 * 512 = 512 bytes\nSector size (logical/physical): 512 bytes / 512 bytes\nI/O size (minimum/optimal): 512 bytes / 512 bytes\nDisk label type: dos\nDisk identifier: 0xf1fda1bf\n\n   Device Boot      Start         End      Blocks   Id  System\n/dev/sdb1            2048     4196351     2097152   83  Linux\n/dev/sdb2         4196352    41943039    18873344    5  Extended\n/dev/sdb5         4198400    10489855     3145728   83  Linux\n\nCommand (m for help): w 保存\nThe partition table has been altered!\n\nCalling ioctl() to re-read partition table.\n\nWARNING: Re-reading the partition table failed with error 16: Device or resource busy.\nThe kernel still uses the old table. The new table will be used at\nthe next reboot or after you run partprobe(8) or kpartx(8)\nSyncing disks.\n查看后未显示\n[root@localhost /]# ll /dev/sdb*\nbrw-rw----. 1 root disk 8, 16 Nov 11 09:18 /dev/sdb\nbrw-rw----. 1 root disk 8, 17 Nov 11 09:18 /dev/sdb1\n使用partprobe命令执行一遍不行就两遍，或重启机器\n[root@localhost /]# partprobe\nWarning: Unable to open /dev/sr0 read-write (Read-only file system).  /dev/sr0 has been opened read-only.\n[root@localhost /]# ll /dev/sdb*\nbrw-rw----. 1 root disk 8, 16 Nov 11 09:19 /dev/sdb\nbrw-rw----. 1 root disk 8, 17 Nov 11 09:19 /dev/sdb1\nbrw-rw----. 1 root disk 8, 18 Nov 11 09:19 /dev/sdb2\nbrw-rw----. 1 root disk 8, 21 Nov 11 09:19 /dev/sdb5\n专门格式化swap的命令\n[root@localhost /]# mkswap /dev/sdb5\nmkswap: /dev/sdb5: warning: wiping old swap signature.\nSetting up swapspace version 1, size = 3145724 KiB\nno label, UUID=ff4a6e32-b89b-4a96-9fc1-1b320be08be3\n开启交换分区\n[root@localhost /]# swapon /dev/sdb5\n编辑/etc/fstab(重启生效配置)交换分区无挂载目录！！！\n/dev/sdb5 swap swap defaults 0 0\n\n磁盘配额xfs系统可用（磁盘权限后+uquota）系统不同版本参数不同UUID=224730b9-5486-45e5-b15c-abc3c5b4d2ca /boot       xfs     defaults,uquota\n查看是否开启usrquota显示开启成功\n[root@localhost randy]# mount | grep boot\n/dev/sda1 on /boot type xfs (rw,relatime,seclabel,attr2,inode64,usrquota)\nx专家模式\t c非交互式 \t \n[root@localhost randy]#\n xfs_quota -x -c &#x27;limit bsoft=3m bhard=6m isoft=3 ihard=6 randy&#x27; /boot\n修改限制\nedquota -u randy\n\nisoft软限制（提示警告信息）    ihard硬限制（终止操作）  限制文件个数\nbsoft    bhard  限制文件大小\n\n软硬方式链接ln命令用于创建文件的软硬链接，语法格式为“ln [参数]原始文件名 链接文件名”\n-s\t创建“符号链接”（如果不带-s参数，则默认创建硬链接）\n-f\t强制创建文件或目录的链接\n-i\t覆盖前先询问\n-v\t显示创建链接的过程\n软连接=快捷方式   硬链接=再复制文件\n\nVDO虚拟数据优化VDO（Virtual Data Optimize，虚拟数据优化）是一种通过压缩或删除存储设备上的数据来优化存储空间的技术VDO技术的关键就是对硬盘内原有的数据进行删重操作，它有点类似于我们平时使用的网盘服务，在第一次正常上传文件时速度特别慢在第二次上传相同的文件时仅作为一个数据指针，几乎可以达到“秒传”的效果，无须再多占用一份空间，也不用再漫长等待除了删重操作，VDO技术还可以对日志和数据库进行自动压缩，进一步减少存储浪费的情况\n|dickens|狄更斯文集\t\t\t\t\t\t|英文原文\t\t\t|9953\t|9948\t|\n|mozilla|Mozilla的1.0可执行文件\t\t\t|执行程序\t\t\t|50020\t|33228\t|\n|mr\t\t|医用resonanse图像\t\t\t\t|图片\t\t\t\t|9736\t|9272\t|\n|nci\t|结构化的化学数据库\t\t\t\t|数据库\t\t\t\t|32767\t|10168\t|\n|ooffice|Open Office.org 1.01 DLL\t\t|可执行程序\t\t\t|6008\t|5640\t|\n|osdb\t|基准测试用的MySQL格式示例数据库|数据库\t\t\t\t|9849\t|9824\t|\n|reymont|瓦迪斯瓦夫·雷蒙特的书\t\t\t|PDF\t\t\t\t|6471\t|6312\t|\n|samba\t|samba源代码\t\t\t\t\t|src源码\t\t\t|21100\t|11768\t|\n|sao\t|星空数据\t\t\t\t\t\t|天文格式的bin文件\t|7081\t|7036\t|\n|webster|辞海\t\t\t\t\t\t\t|HTML\t\t\t\t|40487\t|40144\t|\n|xml\t|XML文件\t\t\t\t\t\t|HTML\t\t\t\t|5220\t|2180\t|\n|x-ray\t|透视医学图片\t\t\t\t\t|医院数据\t\t\t|8275\t|8260\t|\n\nRHEL&#x2F;CentOS 8系统中默认已经启用了VDO技术。VDO技术现在是红帽公司自己的技术，兼容性自然没得说如果您所用的系统没有安装VDO的话也不要着急，用dnf命令即可完成安装：\n[root@linuxprobe ~]# dnf install kmod-kvdo vdo\nUpdating Subscription Management repositories.\nUnable to read consumer identity\nThis system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.\nLast metadata expiration check: 0:01:56 ago on Wed 06 Jan 2021 10:37:19 PM CST.\nPackage kmod-kvdo-6.2.0.293-50.el8.x86_64 is already installed.\nPackage vdo-6.2.0.293-10.el8.x86_64 is already installed.\nDependencies resolved.\nNothing to do.\nComplete!\n\n首先，创建一个全新的VDO卷。新添加进来的物理设备就是使用vdo命令来管理的，其中name参数代表新的设备卷的名称；device参数代表由哪块磁盘进行制作；vdoLogicalSize参数代表制作后的设备大小。依据红帽公司推荐的原则，20GB硬盘将翻成200GB的逻辑存储：\n[root@linuxprobe ~]# vdo create --name=storage --device=/dev/sdc --vdoLogicalSize=200G\nCreating VDO storage\nStarting VDO storage\nStarting compression on VDO storage\nVDO instance 0 volume is ready at /dev/mapper/storage\n\n在创建成功后，使用status参数查看新建卷的概述信息：[root@linuxprobe ~]# vdo status --name=storage\nVDO status:\n  Date: &#x27;2021-01-06 22:51:33+08:00&#x27;\n  Node: linuxprobe.com\nKernel module:\n  Loaded: true\n  Name: kvdo\n  Version information:\n    kvdo version: 6.2.0.293\nConfiguration:\n  File: /etc/vdoconf.yml\n  Last modified: &#x27;2021-01-06 22:49:33&#x27;\nVDOs:\n  storage:\n    Acknowledgement threads: 1\n    Activate: enabled\n    Bio rotation interval: 64\n    Bio submission threads: 4\n    Block map cache size: 128M\n    Block map period: 16380\n    Block size: 4096\n    CPU-work threads: 2\n    Compression: enabled\n    Configured write policy: auto\n    Deduplication: enabled\n………………省略部分输出信息………………\n\n有上可见，在输出信息中包含了VDO卷创建的时间、主机名、版本、是否压缩（Compression）及是否删重（Deduplication）等关键信息。\n接下来，对新建卷进行格式化操作并挂载使用。新建的VDO卷设备会被乖乖地存放在&#x2F;dev&#x2F;mapper目录下并以设备名称命名，对它操作就行。另外，挂载前可以用udevadm settle命令对设备进行一次刷新操作，避免刚才的配置没有生效：\n[root@linuxprobe ~]# mkfs.xfs /dev/mapper/storage \nmeta-data=/dev/mapper/storage    isize=512    agcount=4, agsize=13107200 blks\n         =                       sectsz=4096  attr=2, projid32bit=1\n         =                       crc=1        finobt=1, sparse=1, rmapbt=0\n         =                       reflink=1\ndata     =                       bsize=4096   blocks=52428800, imaxpct=25\n         =                       sunit=0      swidth=0 blks\nnaming   =version 2              bsize=4096   ascii-ci=0, ftype=1\nlog      =internal log           bsize=4096   blocks=25600, version=2\n         =                       sectsz=4096  sunit=1 blks, lazy-count=1\nrealtime =none                   extsz=4096   blocks=0, rtextents=0\n[root@linuxprobe ~]# udevadm settle\n[root@linuxprobe ~]# mkdir /storage\n[root@linuxprobe ~]# mount /dev/mapper/storage /storage\n\n如果想查看设备的实际使用情况，使用vdostats命令即可human-readable参数的作用是将存储容量自动进位，以人们更易读的方式输出（比如，显示20G而不是20971520K）：\n[root@linuxprobe ~]# vdostats --human-readable\nDevice                    Size      Used Available Use% Space saving%\n/dev/mapper/storage      20.0G      4.0G     16.0G  20%           99%\n\n这里显示的Size是实际物理存储的空间大小（即20.0GB是硬盘的大小）如果想看逻辑存储空间，可以使用df命令进行查看：\n[root@linuxprobe ~]# df -h\nFilesystem             Size  Used Avail Use% Mounted on\ndevtmpfs               969M     0  969M   0% /dev\ntmpfs                  984M     0  984M   0% /dev/shm\ntmpfs                  984M  9.6M  974M   1% /run\ntmpfs                  984M     0  984M   0% /sys/fs/cgroup\n/dev/mapper/rhel-root   17G  3.9G   14G  23% /\n/dev/sr0               6.7G  6.7G     0 100% /media/cdrom\n/dev/sda1             1014M  152M  863M  15% /boot\ntmpfs                  197M   16K  197M   1% /run/user/42\ntmpfs                  197M  3.5M  194M   2% /run/user/0\n/dev/sdb1              2.0G   47M  2.0G   3% /newFS\n/dev/mapper/storage    200G  2.4G  198G   2% /storage\n\n随便复制一个大文件过来，看看占用了多少容量，以及空间节省率（Space saving）是多少：[root@linuxprobe ~]# ls -lh /media/cdrom/images/install.img \n-r--r--r--. 1 root root 448M Apr 4 2019 /media/cdrom/images/install.img\n[root@linuxprobe ~]# cp /media/cdrom/images/install.img /storage/\n[root@linuxprobe ~]# ls -lh /storage/install.img \n-r--r--r--. 1 root root 448M Jan  6 23:06 /storage/install.img\n[root@linuxprobe ~]# vdostats --human-readable\nDevice                    Size      Used Available Use% Space saving%\n/dev/mapper/storage      20.0G      4.4G     15.6G  22%           18%\n\n效果不明显，再复制一份相同的文件过来，看看这次占用了多少空间：[root@linuxprobe ~]# cp /media/cdrom/images/install.img /storage/rhel.img\n[root@linuxprobe ~]# vdostats --human-readable\nDevice                    Size      Used Available Use% Space saving%\n/dev/mapper/storage      20.0G      4.5G     15.5G  22%           55%\n原先448MB的文件这次只占用了不到100MB的容量，空间节省率也从18%提升到了55%\n当然这还仅仅是两次操作而已，好处就已经如此明显了\n\n最后，将设备设置成永久挂载生效，一直提供服务VDO设备卷在创建后会一直存在，但需要手动编辑&#x2F;etc&#x2F;fstab文件后才能在下一次重启后自动挂载生效，为我们所用对于这种逻辑存储设备，其实不太建议使用&#x2F;dev&#x2F;mapper&#x2F;storage作为设备名进行挂载试试UUID\n[root@linuxprobe ~]# blkid /dev/mapper/storage \n/dev/mapper/storage: UUID=&quot;cd4e9f12-e16a-415c-ae76-8de069076713&quot; TYPE=&quot;xfs&quot;\n\n打开&#x2F;etc&#x2F;fstab文件，把对应的字段填写完整。建议再加上_netdev参数表示等系统及网络都启动后再挂载VDO设备卷，以保证万无一失。\n[root@linuxprobe ~]# vim /etc/fstab\nUUID=cd4e9f12-e16a-415c-ae76-8de069076713    /storage  xfs   defaults,_netdev   0 0\n","slug":"linux存储结构与管理硬盘","date":"2021-11-15T05:28:40.000Z","categories_index":"Linux","tags_index":"Linux","author_index":"Randolph"},{"id":"9255d8ca0d627fd1989a0fa839b6386e","title":"linux-用户文件权限","content":"用户身份与能力管理员UID为0：系统的管理员用户。系统用户UID为1～999：Linux系统为了避免因某个服务程序出现漏洞而被黑客提权至整台服务器，默认服务程序会由独立的系统用户负责运行，进而有效控制被破坏范围。普通用户UID从1000开始：是由管理员创建的用于日常工作的用户    系统用户：      RHEl7 UID:1-999    RHEL5-6 UID:1-499    普通用户：      RHEl7 UID:1000-♾️    RHEL5-6 UID:500-65535用户组：    基本组：默认生成（只能有一个）    扩展组：获取额外权限（可以添加多个）\nid命令用于显示用户的详细信息，语法格式为“id用户名”\n----------------------------------------------\nuseradd命令用于创建新的用户账户，语法格式为“useradd [参数] 用户名”\n-d    指定用户的家目录（默认为/home/username）\n-e    账户的到期时间，格式为YYYY-MM-DD.\n-u    指定该用户的默认UID\n-g    指定一个初始的用户基本组（必须已存在）\n-G    指定一个或多个扩展用户组\n-N    不创建与用户同名的基本用户组\n-s    指定该用户的默认Shell解释器\n-----------------------------------------------\ngroupadd命令用于创建新的用户组，语法格式为“groupadd [参数] 群组名”\n-----------------------------------------------\nusermod命令用于修改用户的属性，语法格式为“usermod [参数] 用户名”\n-c    填写用户账户的备注信息\n-d -m    参数-m与参数-d连用，可重新指定用户的家目录并自动把旧的数据转移过去\n-e    账户的到期时间，格式为YYYY-MM-DD\n-g    变更所属用户组\n-G    变更扩展用户组\n-L    锁定用户禁止其登录系统\n-U    解锁用户，允许其登录系统\n-s    变更默认终端\n-u    修改用户的UID\n------------------------------------------------\npasswd命令用于修改用户的密码、过期时间等信息，语法格式为“passwd [参数] 用户名”\n-l    锁定用户，禁止其登录\n-u    解除锁定，允许用户登录\n--stdin    允许通过标准输入修改用户密码，如echo &quot;NewPassWord&quot; | passwd --stdin Username\n-d    使该用户可用空密码登录系统\n-e    强制用户在下次登录时修改密码\n-S    显示用户的密码是否被锁定，以及密码所采用的加密算法名称\n-------------------------------------------------\nuserdel命令用于删除已有的用户账户，语法格式为“userdel [参数] 用户名”\n-f    强制删除用户\n-r    同时删除用户及用户家目录\n\n文件权限与归属            文件          目录\n读取(r)      cat          ls\n写入(w)      vim          touch\n执行(x)     ./script      cd\n------------------------------------------------\n权限项     读 写 执行      读 写 执行   读  写 执行\n宁符表示    r  w  x       r  w  x     r  w  x \n数宁表示    4  2  1       4  2  1     4  2  1 \n权限分配    文件所属者      文件所属组     其他用户\n\nchown 修改所有者、所有组  文件名\nchomd 权限  文件名称 （修改权限）\n\n文件的特殊权限SUID    使文件执行者临时获得文件所有者身权限SGID    使文件执行者临时获得文件所有用户组权限SBIT    粘滞位（保护位）只能被文件所有者执行删除修改\nchmod：\nu+s    设置SUID权限\nu-s    取消SUID权限\ng+s    设置SGID权限\ng-s    取消SGID权限\no+t    设置SBIT权限\no-t    取消SBIT权限\n\n文件的隐藏属性chattr命令用于设置文件的隐藏权限，语法格式为“chattr +or-[参数] 文件名称”\ni    无法对文件进行修改；若对目录设置了该参数，则仅能修改其中的子文件内容而不能新建或删除文件\na    仅允许补充（追加）内容，无法覆盖/删除内容（Append Only）\nS    文件内容在变更后立即同步到硬盘（sync）\ns    彻底从硬盘中删除，不可恢复（用0填充原文件所在硬盘区域）\nA    不再修改这个文件或目录的最后访问时间（atime）\nb    不再修改文件或目录的存取时间\nD    检查压缩文件中的错误\nd    使用dump命令备份时忽略本文件/目录\nc    默认将文件或目录进行压缩\nu    当删除该文件后依然保留其在硬盘中的数据，方便日后恢复\nt    让文件系统支持尾部合并（tail-merging）\nx    可以直接访问压缩文件中的内容\n------------------------------------------------\nlsattr命令用于查看文件的隐藏权限，语法格式为“lsattr [参数] 文件名称”\nor lsattr 文件名称\n\n文件访问控制列表setfacl命令用于管理文件的ACL权限规则，语法格式为“setfacl [参数] 文件名称”\n-u    对于某个用户u:username:rwx\n-m    修改权限\n-M    从文件中读取权限\n-x    删除某个权限\n-b    删除全部权限\n-R    递归子目录\n------------------------------------------------------\ngetfacl命令用于查看文件的ACL权限规则，语法格式为“getfacl [参数] 文件名称”\n清空所有ACL权限，请用-b参数；要删除某一条指定的权限，就用-x参数\nsu命令与sudo服务su命令可以解决切换用户身份的需求\nsudo命令用于给普通用户提供额外的权限，语法格式为“sudo [参数] 用户名”\n-h    列出帮助信息\n-l    列出当前用户可执行的命令\n-u    用户名或UID值    以指定的用户身份执行命令\n-k    清空密码的有效时间，下次执行sudo时需要再次进行密码验证\n-b    在后台执行指定的命令\n-p    更改询问密码的提示语\n--------------------------------------------------------\nvisudo命令用于编辑、配置用户sudo的权限文件，语法格式为“visudo [参数]”。\nvisudo命令只有root管理员才可以执行，普通用户在使用时会提示权限不足\n","slug":"linux-用户文件权限","date":"2021-11-07T07:37:44.000Z","categories_index":"Linux","tags_index":"Linux","author_index":"Randolph"},{"id":"42ae80bb8c02377e1088b53eb45f0695","title":"linux 通道符","content":"输出重定向清空写入 &gt;\n追加写入 &gt;&gt;\n报错写入 2&gt;\n全部输出 &amp;&gt;\n\n输入重定向文件导入 &lt;\n传递信息(传送门) |\n\n命令行的通配符*    任意字符\n?    单个任意字符\n[a-z]    单个小写字母\n[A-Z]    单个大写字母\n[a-Z]    单个字母\n[0-9]    单个数字\n[[:alpha:]]    任意字母\n[[:upper:]]    任意大写字母\n[[:lower:]]    任意小写字母\n[[:digit:]]    所有数字\n[[:alnum:]]    任意字母加数字\n[[:punct:]]    标点符号\n\n转译字符反斜杠（\\）：使反斜杠后面的一个变量变为单纯的字符。\n单引号（&#x27; &#x27;）：转义其中所有的变量为单纯的字符串。\n双引号（&quot; &quot;）：保留其中的变量属性，不进行转义处理。\n反引号（` `）：把其中的命令执行后返回结果。\n\n重要的环境变量HOME    用户的主目录（即家目录）\nSHELL    用户在使用的Shell解释器名称\nHISTSIZE    输出的历史命令记录条数\nHISTFILESIZE    保存的历史命令记录条数\nMAIL    邮件保存路径\nLANG    系统语言、语系名称\nRANDOM    生成一个随机数字\nPS1    Bash解释器的提示符\nPATH    定义解释器搜索用户执行命令的路径\nEDITOR    用户默认的文本编辑器\n配置主机名称vim /etc/hostname\n\n配置网卡信息[root@linuxprobe ~]# cd /etc/sysconfig/network-scripts/\n[root@linuxprobe network-scripts]# vim ifcfg-ens160\nTYPE=Ethernet\nBOOTPROTO=static\nNAME=ens160\nONBOOT=yes\nIPADDR=192.168.10.10\nNETMASK=255.255.255.0\nGATEWAY=192.168.10.1\nDNS1=192.168.10.1\n执行重启网卡设备的命令，然后通过ping命令测试网络能否连通\n[root@linuxprobe network-scripts]# nmcli connection reload ens160\n[root@linuxprobe network-scripts]# ping 192.168.10.10\nPING 192.168.10.10 (192.168.10.10) 56(84) bytes of data.\n64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.083 ms\n64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.110 ms\n64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.106 ms\n64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.035 ms\n^C\n--- 192.168.10.10 ping statistics ---\n4 packets transmitted, 4 received, 0% packet loss, time 84ms\nrtt min/avg/max/mdev = 0.035/0.083/0.110/0.031 ms\n\n配置软件仓库进入/etc/yum.repos.d目录后创建软件仓库的配置文件\n[root@linuxprobe ~]# cd /etc/yum.repos.d/\n[root@linuxprobe yum.repos.d]# vim rhel8.repo\n[BaseOS]\nname=BaseOS\nbaseurl=file:///media/cdrom/BaseOS\nenabled=1\ngpgcheck=0\n[AppStream]\nname=AppStream\nbaseurl=file:///media/cdrom/AppStream\nenabled=1\ngpgcheck=0\n创建挂载点后进行挂载操作，并设置成开机自动挂载\n[root@linuxprobe yum.repos.d]# mkdir -p /media/cdrom \n[root@linuxprobe yum.repos.d]# mount /dev/cdrom /media/cdrom\nmount: /media/cdrom: WARNING: device write-protected, mounted read-only.\n[root@linuxprobe yum.repos.d]# vim /etc/fstab\n/dev/cdrom /media/cdrom iso9660 defaults 0 0\n使用软件仓库的dnf命令来安装Web服务，软件包名称为httpd，安装后出现“Complete!”则代表配置正确\n[root@linuxprobe ~]# dnf install httpd -y\nUpdating Subscription Management repositories.\nUnable to read consumer identity\nThis system is not registered to Red Hat Subscription Management. You can use subscription-manager to register.\nAppStream 3.1 MB/s | 3.2 kB 00:00\nBaseOS 2.7 MB/s | 2.7 kB 00:00\nDependencies resolved.\n………………省略部分输出信息………………\nInstalled:\nhttpd-2.4.37-10.module+el8+2764+7127e69e.x86_64\napr-util-bdb-1.6.1-6.el8.x86_64\napr-util-openssl-1.6.1-6.el8.x86_64\napr-1.6.3-9.el8.x86_64\napr-util-1.6.1-6.el8.x86_64\nhttpd-filesystem-2.4.37-10.module+el8+2764+7127e69e.noarch\nhttpd-tools-2.4.37-10.module+el8+2764+7127e69e.x86_64\nmod_http2-1.11.3-1.module+el8+2443+605475b7.x86_64\nredhat-logos-httpd-80.7-1.el8.noarch\n\nComplete!\n","slug":"linux-通道符","date":"2021-10-15T05:28:40.000Z","categories_index":"Linux","tags_index":"Linux","author_index":"Randolph"},{"id":"15e41a1cb985a51395ea03f0bec31541","title":"linux 基础命令","content":"top命令用于动态地监视进程活动及系统负载等信息系统状态：R（运行）S（中断、休眠）D（不可中断、无法kill）Z（僵死\\吃资源）T（停止）\n优先级（&lt;）、低优先级（N）、被锁进内存（L）、包含子进程（s）以及多线程（l）优先级（&lt;）\n低优先级（N）、被锁进内存（L）、包含子进程（s）以及多线程（l）\nload acerage负载值: \n1分钟  5分钟（睡不着负载超过5导致系统缓慢运行崩溃，有超过10并运行正常的例子）  15分钟\ncpu us（当前负载）id（空闲值）\npid（进程号）pr和ni（优先级越小越优先）【VIRT、RES、SHR交互值】\n----------------------------------------------------------\nkill -9 进程号                  参数-9，表示最高级别地强制杀死进程\nsystemctl status 进程名        【查看该进程状态】\nps查看简要信息 -aux【a=allu=userx=system】\nuname命令用于查看系统内核版本与系统架构等信息，-a参数来完整地查看\n    当前系统的内核名称、主机名、内核发行版本、节点名、压制时间、硬件名称\n    硬件平台、处理器类型以及操作系统名称等信息\n\nwget命令用于在终端命令行中下载网络文件wget+option+url    -c断点续传 -O以不同的文件名保存\n-b后台下载（大文件）tail -f wget - log查看下载进度  -spider+url 下载链接测试\n\n网卡:ubuntu@VM-0-6-ubuntu:~$ ifconfig\neth0【网卡名称】: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\ninet 172.17.0.6【IP地址】 netmask 255.255.240.0【子网掩码】broadcast 172.17.15.255【网关】\ninet6 fe80::5054:ff:fe2f:6517  prefixlen 64  scopeid 0x20&lt;link&gt;\nether 52:54:00:2f:65:17【mac地址】txqueuelen 1000  (Ethernet)\nRX packets 5856430 bytes 982163097 (982.1 MB)【收取包】\nRX errors 0  dropped 0  overruns 0  frame 0\nTX packets 5377542 bytes 777598829 (777.5 MB)【发送包】\nTX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\nnetstat命令用于显示如网络连接、路由表、接口状态等的网络相关信息\n-a显示所有连接中的Socket\n-p显示正在使用的Socket信息\n-t显示TCP协议的连接状态\n-u显示UDP协议的连接状态\n-n使用IP地址，不使用域名\n-l仅列出正在监听的服务状态\n-i显示网卡列表信息\n-r显示路由表信息\nfree命令用于显示当前系统中内存的使用量信息ubuntu@VM-0-6-ubuntu:~$ free -h\ntotal      used        free    shared  buff/cache   available\nMem【物理内存】:1.9Gi     747Mi       149Mi    2.0Mi    1.1Gi       1.0Gi\nSwap【虚拟内存】: 0B       0B          0B\n\nwho命令用于查看当前登入主机的用户终端信息ubuntu@VM-0-6-ubuntu:~$ who\nubuntu   pts/0        2021-10-24 23:25 (119.28.22.215)\nubuntu   pts/1        2021-10-24 23:30 (119.28.22.215)\n[root@linuxprobe ~]# last用于调取主机的被访记录【无法判断是否被入侵】\nroot     pts/1        192.168.10.1     Tue May 18 10:30 - 11:03  (00:32)\nroot     tty2         tty2             Fri Jul 24 06:26    gone - no logout\nreboot   system boot  4.18.0-80.el8.x8 Fri Jul 24 05:59   still running\nroot     tty2         tty2             Tue Jul 21 05:19 - down   (00:00)\nreboot   system boot  4.18.0-80.el8.x8 Tue Jul 21 05:16 - 05:19  (00:02)\nhistory历史命令执行记录【！+编号可再执行history命令】\nsosreport命令用于收集系统配置及架构信息并输出诊断文档\ntree查看目录结构\ncd-返回上一次cd..返回上一级lsal=ll【.filename隐藏文件】\nwhereis命令用于按照名称快速搜索二进制程序，语法格式为“whereis命令名称”\nwhich命令用于按照指定名称快速搜索二进制程序所对应的位置，语法格式为“which命令名称\ncat看小文件more看大文件head看头tail看尾\ntr命令用于替换文本内容中的字符，英文全称为“transform”，语法格式为“tr [原始字符] [目标字符]”         [root@linuxprobe ~]# cat anaconda-ks.cfg | tr [a-z] [A-Z]\nwc命令用于统计指定文本文件    -l只显示行数   -w只显示单词数   -c只显示字节数\nstat命令用于查看文件的具体存储细节和时间等信息stat+filename\ngrep命令用于按行提取文本内容，语法格式为“grep [参数] 文件名称\ncut命令用于按“列”提取文本内容，语法格式为“cut [参数] 文件名称\ndiff命令用于比较多个文件之间内容的差异，英文全称为“different”，语法格式为“diff [参数] 文件名称A 文件名称B”\nuniq命令用于去除文本中连续的重复行，英文全称为“unique”，语法格式为“uniq [参数] 文件名称\nsort命令用于对文本内容进行再排序，语法格式为“sort [参数] 文件名称\n\n文件目录管理命令touch命令用于创建空白文件或设置文件的时间，语法格式为“touch [参数] 文件名称\n-a仅修改“读取时间”（atime）  -m仅修改“修改时间”（mtime）  -d同时修改atime与mtime\n-------------------------------------------------------------------------\nmkdir命令用于创建空白的目录，英文全称为“make directory”，语法格式为“mkdir [参数] 目录名称        mkdir -p a/b/c/d/e-p递归参数\n------------------------------------------------------------------\ncp命令用于复制文件或目录，英文全称为“copy”，语法格式为“cp [参数] 源文件名称 目标文件名称\n-p保留原始文件的属性               -d若对象为“链接文件”，则保留该“链接文件”的属性\n-r递归持续复制（用于目录）          -i若目标文件存在则询问是否覆盖\n-a相当于-pdr（p、d、r为上述参数）\n---------------------------------------------------------\nmv命令用于剪切或重命名文件，语法格式为“mv [参数] 源文件名称 目标文件名称\n----------------------------------------------------------------------\nrm命令用于删除文件或目录，语法格式为rm [参数] 文件    名称\n-f强制执行   -i删除前询问   -r删除目录    -v显示过程\n----------------------------------------------------------------------\ndd命令用于按照指定大小和个数的数据块来复制文件或转换文件，语法格式为“dd if=参数值of=参数值count=参数值bs=参数值\nif 输入的文件名称                of 输出的文件名称\nbs 设置每个“块”的大小            count 设置要复制“块”的个数\n---------------------------------------------------------------\nfile命令用于查看文件的类型，语法格式为“file文件名称\n-----------------------------------------------------------------\ntar命令用于对文件进行打包压缩或解压，语法格式为“tar参数 文件名称\n-c创建压缩文件    -x解开压缩文件    -t查看压缩包内有哪些文件\n-z用Gzip压缩或解压    -j用bzip2压缩或解压    -v显示压缩或解压的过程\n-f目标文件名    -p保留原始的权限与属性    -P使用绝对路径来压缩    -C指定解压到的目录\ntar-zxvffilename-Curl解压参数可以不加-\nczvffilename.tar.gz\ncjvffilename.tar.bz2\n","slug":"linux-基础命令","date":"2021-10-13T05:28:40.000Z","categories_index":"Linux","tags_index":"Linux","author_index":"Randolph"}]